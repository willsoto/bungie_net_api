# NOTE: This class is auto generated by the swagger code generator program.
# https://github.com/swagger-api/swagger-codegen.git
# Do not edit the class manually.

defmodule BungieNetAPI.Model.DestinyDefinitionsMilestonesDestinyMilestoneDefinition do
  @moduledoc """
  Milestones are an in-game concept where they&#39;re attempting to tell you what you can do next in-game.  If that sounds a lot like Advisors in Destiny 1, it is! So we threw out Advisors in the Destiny 2 API and tacked all of the data we would have put on Advisors onto Milestones instead.  Each Milestone represents something going on in the game right now:  - A \&quot;ritual activity\&quot; you can perform, like nightfall  - A \&quot;special event\&quot; that may have activities related to it, like Taco Tuesday (there&#39;s no Taco Tuesday in Destiny 2)  - A checklist you can fulfill, like helping your Clan complete all of its weekly objectives  - A tutorial quest you can play through, like the introduction to the Crucible.  Most of these milestones appear in game as well. Some of them are BNet only, because we&#39;re so extra. You&#39;re welcome.  There are some important caveats to understand about how we currently render Milestones and their deficiencies. The game currently doesn&#39;t have any content that actually tells you oughtright *what* the Milestone is: that is to say, what you&#39;ll be doing. The best we get is either a description of the overall Milestone, or of the Quest that the Milestone is having you partake in: which is usually something that assumes you already know what it&#39;s talking about, like \&quot;Complete 5 Challenges\&quot;. 5 Challenges for what? What&#39;s a challenge? These are not questions that the Milestone data will answer for you unfortunately.  This isn&#39;t great, and in the future I&#39;d like to add some custom text to give you more contextual information to pass on to your users. But for now, you can do what we do to render what little display info we do have:  Start by looking at the currently active quest (ideally, you&#39;ve fetched DestinyMilestone or DestinyPublicMilestone data from the API, so you know the currently active quest for the Milestone in question). Look up the Quests property in the Milestone Definition, and check if it has display properties. If it does, show that as the description of the Milestone. If it doesn&#39;t, fall back on the Milestone&#39;s description.  This approach will let you avoid, whenever possible, the even less useful (and sometimes nonexistant) milestone-level names and descriptions.
  """

  @derive [Poison.Encoder]
  defstruct [
    :"displayProperties",
    :"image",
    :"milestoneType",
    :"recruitable",
    :"friendlyName",
    :"showInExplorer",
    :"explorePrioritizesActivityImage",
    :"hasPredictableDates",
    :"quests",
    :"rewards",
    :"vendorsDisplayTitle",
    :"vendors",
    :"values",
    :"isInGameMilestone",
    :"hash",
    :"index",
    :"redacted"
  ]

  @type t :: %__MODULE__{
    :"displayProperties" => DestinyDefinitionsCommonDestinyDisplayPropertiesDefinition,
    :"image" => String.t,
    :"milestoneType" => Object,
    :"recruitable" => boolean(),
    :"friendlyName" => String.t,
    :"showInExplorer" => boolean(),
    :"explorePrioritizesActivityImage" => boolean(),
    :"hasPredictableDates" => boolean(),
    :"quests" => %{optional(String.t) => DestinyDefinitionsMilestonesDestinyMilestoneQuestDefinition},
    :"rewards" => %{optional(String.t) => DestinyDefinitionsMilestonesDestinyMilestoneRewardCategoryDefinition},
    :"vendorsDisplayTitle" => String.t,
    :"vendors" => [DestinyDefinitionsMilestonesDestinyMilestoneVendorDefinition],
    :"values" => %{optional(String.t) => DestinyDefinitionsMilestonesDestinyMilestoneValueDefinition},
    :"isInGameMilestone" => boolean(),
    :"hash" => integer(),
    :"index" => integer(),
    :"redacted" => boolean()
  }
end

defimpl Poison.Decoder, for: BungieNetAPI.Model.DestinyDefinitionsMilestonesDestinyMilestoneDefinition do
  import BungieNetAPI.Deserializer
  def decode(value, options) do
    value
    |> deserialize(:"displayProperties", :struct, BungieNetAPI.Model.DestinyDefinitionsCommonDestinyDisplayPropertiesDefinition, options)
    |> deserialize(:"milestoneType", :struct, BungieNetAPI.Model.Object, options)
    |> deserialize(:"quests", :map, BungieNetAPI.Model.DestinyDefinitionsMilestonesDestinyMilestoneQuestDefinition, options)
    |> deserialize(:"rewards", :map, BungieNetAPI.Model.DestinyDefinitionsMilestonesDestinyMilestoneRewardCategoryDefinition, options)
    |> deserialize(:"vendors", :list, BungieNetAPI.Model.DestinyDefinitionsMilestonesDestinyMilestoneVendorDefinition, options)
    |> deserialize(:"values", :map, BungieNetAPI.Model.DestinyDefinitionsMilestonesDestinyMilestoneValueDefinition, options)
  end
end

